<!-- search_results.html -->
{% extends "layout.html" %}

{% block content %}
<div class="container">
    <h1>Search Results for "{{ query }}"</h1>
    {% if results %}
        <ul>
            {% for file_path, content in results.items() %}
                <li>
                    <a href="{{ url_for('open_file', file_path=file_path) }}" target="_blank">{{ file_path }}</a>
                    <p>{{ content|truncate(300) }}</p> <!-- Display the first 300 characters as a preview -->
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No results found.</p>
    {% endif %}
</div>
{% endblock %}
